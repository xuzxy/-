<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>增减购物车商品信息 </title>
    <script type="text/javascript" src="js/jquery-1.8.3.min.js"></script>
    <!-- <script src="gwc-ds2.js"></script> -->
    <style type="text/css">
        * {
            font-size: 12px;
            
        }
    </style>

</head>

<body>
    <table border="1" cellpadding="0" cellspacing="0" id="tab">
        <tr>
            <td><input type='checkbox' onclick="checkall(this)" />全选</td>
            <td>商品信息</td>
            <td>宜美惠价</td>
            <td>数量</td>
            <td>操作</td>

        </tr>

        <tr class="tr_0">
            <td>
                <input name="" type="checkbox" value="" />
            </td>
            <td>
                <img src="images/sang.gif" class="products" /><a href="#">天堂雨伞</a>
            </td>
            <td>￥32.9元
            </td>
            <td>
                <input type="button" value="-" onclick="sub(this)">
                <input type="text" class="quantity" value="1" />
                <input type="button" value="+" onclick="addn(this)">
            </td>
            <td>
                <a href="#" class="del">删除</a>
            </td>
        </tr>
        <tr class="tr_1">
            <td>
                <input name="" type="checkbox" value="" />
            </td>
            <td>
                <img src="images/iphone.gif" class="products" /><a href="#">苹果手机iphone5</a>
            </td>
            <td>￥3339元
            </td>
            <td>
                <input type="button" value="-" onclick="sup(this)">
                <input type="text" class="quantity" value="1" />
                <input type="button" value="+" onclick="addp(this)">
            </td>
            <td>
                <a href="#" class="del">删除</a>
            </td>
        </tr>

    </table>

    <a href="#" class="add">添加</a>
    <a href="#" id="delBatch">批量删除</a>

    <script>

        //雨伞的数量增加
        function addn(dom) {
            var wd = $(dom).prev();
            wd.val(parseInt(wd.val()) + 1);
            var sum = parseFloat(wd.val() * (32.9)).toLocaleString();
            $(dom).parent().parent().children().eq(2).html("￥" + sum + "元");
        }
        //雨伞的数量减少
        function sub(dom) {
            var wd = $(dom).next().val();
            if (wd == 1) {
                return;
            }
            $(dom).next().val(--wd);
            var sum = parseFloat(wd * (32.9)).toLocaleString();
            $(dom).parent().parent().children().eq(2).html("￥" + sum + "元");
        }

        //手机的数量增加
        function addp(dom) {
            var wd = $(dom).prev();
            wd.val(parseInt(wd.val()) + 1);
            var sum = parseFloat(wd.val() * (3339)).toLocaleString();
            $(dom).parent().parent().children().eq(2).html("￥" + sum + "元");
        }
        //手机的数量减少
        function sup(dom) {
            var wd = $(dom).next().val();
            if (wd == 1) {
                return;
            }
            $(dom).next().val(--wd);
            var sum = parseFloat(wd * (3339)).toLocaleString();
            $(dom).parent().parent().children().eq(2).html("￥" + sum + "元");

        }
        function checkall(dom) {
            //全选

            $.each($('table tr td input'), function (index, value) {
                $(this).prop('checked', !$(this).prop('checked'));

            })


        }

        $(function () {

            //批量删除
            $('#delBatch').click(function () {
                $('table input:checked').parent().parent().remove();
            })


            //删除
            $('.del').click(function () {
                $(this).parent().parent().remove();
            })


        })
    </script>
</body>

</html>